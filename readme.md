# 植基於位元平面之浮水印
## 介紹
在電腦的世界裡，影像最基本的單位是像素(Pixel)，以光的三原色RGB色彩模型為例，每一個像素都是由不同比例的紅、綠、藍所組成的，而每個數值會分別儲存在一個位元組(Byte)，一個位元組有8個位元(Bit)，每個位元會記錄0或1，因此數值會在2^8範圍內，0~255之間。

我們也可以對單張影像做像素的位元分離，先將原圖轉換成灰階，再對其進行位元分解:

![image1](./grey_plane/01.jpg)
[０,０,０,０,０,０,０, 第１位元影像]
![image2](/grey_plane/02.jpg)
[０,０,０,０,０,０, 第２位元影像,０]
![image3](/grey_plane/03.jpg)
[０,０,０,０,０, 第３位元影像,０,０] 
![image4](/grey_plane/04.jpg)
[０,０,０,０, 第４位元影像,０,０,０]
![image5](/grey_plane/05.jpg)
[０,０,０, 第５位元影像,０,０,０,０]
![image6](/grey_plane/06.jpg)
 [０,０, 第６位元影像,０,０,０,０,０]
![image7](/grey_plane/07.jpg)
[０, 第７位元影像,０,０,０,０,０,０]
![image8](/grey_plane/08.jpg)
 [ 第８位元影像,０,０,０,０,０,０,０]

由此可知，位元越右邊，因為加權值較低，對於整張影像的資訊表現並不明顯，因此本專案利用此特性，將影像嵌入浮水印。

## 方法
依據作業規定，我的學號最後一碼為3，需要去除 (3 % 4) + 1= 4碼，因此使用AND函數，使用0b11110000取出原圖之前4位，再透過0b00001111取出浮水印圖片之後4位，最後透過OR函數，將原圖之前4位與浮水印圖後4位合併，完成植基於位元平面之浮水印。

還原方式如下，由於浮水印是加於原圖之後4位，前4位並無改變，因此使用AND函數0b11110000取出浮水印圖片的前4位，再透過AND函數0b00001111來取出原圖之後4位，再透過OR函數，將浮水印之前4位與原圖之後4位合併，完成浮水印的還原。

## 執行
### Requirement
Python >=3.7<br>
OpenCV <br>
Numpy<br>
### Install
pip install opencv-python<br>
pip install numpy<br>

### Run
python watermark.py

## 結果
原圖A(灰階)
![input1](/input1.jpg)

嵌入浮水印之圖B(灰階)
![input2](/input2.jpg)

嵌入浮水印之輸出
![output1](/output1.jpg)

還原浮水印之輸出
![output2](/output2.jpg)


